# 交友π项目

## 项目简介
交友π是一款基于微信小程序的社交应用，旨在帮助用户扩展社交圈、发现附近的活动和认识志同道合的朋友。项目采用前后端分离架构，提供了丰富的社交功能和智能匹配机制。

## 项目特色
- 基于地理位置的活动发现
- 个性化内容推荐算法
- 实时聊天通讯
- 多样化的社交互动方式
- 简洁美观的用户界面

## 项目结构

```
├── app.js               # 小程序入口文件
├── app.json             # 全局配置
├── app.wxss             # 全局样式
├── assets/              # 静态资源
│   └── icons/           # 图标文件（SVG格式）
├── backend/             # 后端服务
│   ├── app.js           # 后端入口
│   ├── controllers/     # 控制器（处理业务逻辑）
│   ├── models/          # 数据模型（定义数据结构）
│   ├── routes/          # 路由配置（API接口定义）
│   ├── middleware/      # 中间件（处理请求拦截和公共逻辑）
│   ├── config/          # 配置文件（数据库连接等）
│   └── utils/           # 工具函数
├── components/          # 自定义组件（可复用UI组件）
├── pages/               # 页面文件
│   ├── feed/            # 动态feed页面
│   ├── chat/            # 聊天页面
│   ├── profile/         # 个人主页
│   ├── activity-detail/ # 活动详情页面
│   ├── activity-list/   # 活动列表页面
│   ├── create-activity/ # 创建活动页面
│   ├── login/           # 登录页面
│   ├── message-list/    # 消息列表页面
│   ├── publish/         # 发布动态页面
│   ├── settings/        # 设置页面
│   └── topic/           # 话题页面
└── utils/               # 工具函数（请求封装等）
```

## 技术栈
- 前端：微信小程序原生开发（WXML、WXSS、JavaScript）
- 后端：Node.js + Express
- 数据库：MongoDB
- 图标：Feather风格SVG图标

## 功能模块

### 1. 动态feed
- 浏览朋友和推荐的动态内容
- 支持图片、文字等多种形式的内容展示
- 点赞、评论、收藏、分享功能
- 图片加载优化（占位图、错误重试机制）

### 2. 聊天系统
- 一对一聊天功能
- 消息列表管理
- 消息状态显示

### 3. 个人主页
- 用户信息展示与编辑
- 个人动态管理
- 个人兴趣标签设置

### 4. 活动系统
- 活动列表浏览
- 活动详情查看
- 创建和管理活动
- 活动报名与参与

### 5. 智能匹配
- 基于用户兴趣和行为的智能推荐
- 相似用户匹配

## 开发和运行指南

### 前端开发
1. 安装微信开发者工具
2. 导入项目
3. 在微信开发者工具中配置项目信息（AppID等）
4. 配置app.json中的页面路径和全局样式
5. 开始开发页面和功能
6. 使用热重载功能实时查看效果

### 后端开发
1. 确保已安装Node.js环境
2. 进入backend目录
3. 安装依赖：`npm install`
4. 配置数据库连接（修改config/db.js文件）
5. 启动服务：`node index.js`或使用nodemon进行热重载：`npm run dev`
6. 默认服务端口：3000

## 接口说明
详见backend/API文档.md文件，包含所有API接口的详细说明和使用方法。

## 数据库配置
后端服务需要连接MongoDB数据库，请在backend/config/db.js文件中配置正确的数据库连接信息。

## 图片资源管理
- 所有图标资源使用SVG格式，放置在assets/icons目录下
- 图标采用统一的Feather风格设计
- 使用相对路径引用图标资源

## 开发规范
1. 遵循微信小程序开发规范
2. 代码命名采用驼峰命名法
3. 函数和组件命名清晰，便于理解
4. 适当添加注释说明代码功能
5. 保持代码风格统一
6. 图片加载优化：使用占位图、错误处理和重试机制

## 部署说明
### 前端部署
1. 在微信开发者工具中完成代码开发和测试
2. 点击"上传"按钮，将代码上传至微信小程序平台
3. 在微信公众平台完成审核和发布

### 后端部署
1. 选择合适的云服务器（如腾讯云、阿里云等）
2. 安装Node.js和MongoDB环境
3. 上传后端代码至服务器
4. 配置环境变量和数据库连接信息
5. 使用PM2等工具管理Node.js进程
6. 配置Nginx作为反向代理（可选）

## 常见问题
1. 图片加载失败：检查图片路径是否正确，确保assets/icons目录下存在相应的SVG文件
2. 后端服务连接失败：检查数据库连接配置和网络连接状态
3. 页面白屏：检查WXML结构和JS逻辑是否有误

## 更新日志
- 优化图片加载体验，添加占位图和错误重试机制
- 修复SVG图标加载问题
- 完善动态feed页面功能

## 联系方式
如有问题或建议，请联系项目负责人。
